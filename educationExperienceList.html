<html>

<head>
    <script type="text/javascript">

        function addRows() {
            var table = document.getElementById('emptbl');
            var rowCount = table.rows.length;
            var cellCount = table.rows[0].cells.length;
            var row = table.insertRow(rowCount);
            for (var i = 0; i <= cellCount; i++) {
                var cell = 'cell' + i;
                cell = row.insertCell(i);
                var copycel = document.getElementById('col' + i).innerHTML;
                cell.innerHTML = copycel;
                if (i == 3) {
                    var radioinput = document.getElementById('col3').getElementsByTagName('input');
                    for (var j = 0; j <= radioinput.length; j++) {
                        if (radioinput[j].type == 'radio') {
                            var rownum = rowCount;
                            radioinput[j].name = 'gender[' + rownum + ']';
                        }
                    }
                }
            }
        }

        function deleteRows() {
            var table = document.getElementById('emptbl');
            var rowCount = table.rows.length;
            if (rowCount > '2') {
                var row = table.deleteRow(rowCount - 1);
                rowCount--;
            }
            else {
                alert('There should be atleast one row');
            }
        }

        function compareDates() {

        }
    </script>
</head>

<body>
    <form action="#" method="post">
        <table id="emptbl">
            <tr>
                Key fields
                <th>Type of activity</th>
                <th>Name of employer</th>
                <th>Employed from</th>
                <th>Employed to</th>
                <th>Number of hours worked</th>
                <th>Details of position held</th>
                <th>Reason for leaving</th>
                <th>Provide as reference</th>
            </tr>
            <tr>
                <td id="col0">
                    <select name="typeOfActivity[]" id="dept">
                        <option value="0">Select Type of activity</option>
                        <option value="1">Employed</option>
                        <option value="2">Traveling</option>
                        <option value="3">Unemployed</option>
                        <option value="4">Studying</option>
                        <option value="5">Other</option>
                    </select>
                </td>
                <td id="col1"><input type="text" name="nameOfEmployer[]" value="" /></td>
                <td id="col2"><input type="date" name="employedFrom[]" value="" /></td>
                <td id="col3"><input type="date" name="employedTo[]" value="" /></td>
                <td id="col4"><input type="number" name="numberOfHoursWorked[]" value="" /></td>
                <td id="col5"><input type="text" name="detailsOfPositionHeld[]" value="" /></td>
                <td id="col6"><input type="text" name="reasonForLeaving[]" value="" /></td>
                <td id="col7"><input type="text" name="reasonForLeaving[]" value="" /></td>

            </tr>
        </table>
        <table>
            <tr>
                <td><input type="button" value="Add Row" onclick="addRows()" /></td>
                <td><input type="button" value="Delete Row" onclick="deleteRows()" /></td>
                <!-- <td><input type="submit" value="Submit" /></td> -->
            </tr>
        </table>
    </form>
</body>
</html>

<!--
    Todo
    - Compare dates
    - Disable fields based on selection
    - Make fields mandotory if empty
    - Change date format to MM/YYYY
    - Remove entry next to every row
    - Add jotform scripts
    - Check ref are in the last 3 year, min of 2
-->